<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calogero Granatella | Interactive CV</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* Chosen Palette: Midnight Blue & Slate */
        /* Application Structure Plan: A single-page application with a fixed left-sidebar for navigation. Each navigation item reveals a distinct content section (Home, Experience, Skills, Education, Contact) in the main view area. This structure was chosen to create a focused, app-like experience, allowing the user to explore content non-linear without scrolling through a long page. The one-section-at-a-time view enhances usability by preventing information overload and allows each section to be designed as a self-contained infographic. Key interactions include a dynamic timeline for experience, animated charts for skills, and smooth transitions between sections. */
        /* Visualization & Content Choices: 
            - Home: Report Info (Name, Title, Summary) -> Goal (Inform) -> Presentation (Large Typography, Clean Text Block) -> Interaction (Subtle text animation on load) -> Justification (Create a strong, immediate first impression).
            - Experience: Report Info (Job History) -> Goal (Show Change/Progression) -> Presentation (Interactive Vertical Timeline) -> Interaction (Clicking a job title displays its details dynamically) -> Justification (Engages the user to explore career history without cluttering the UI) -> Library/Method (HTML/CSS/JS).
            - Skills (Languages): Report Info (Language Proficiency) -> Goal (Compare) -> Presentation (Horizontal Bar Chart) -> Interaction (Animated bars on view) -> Justification (Provides a quick, clear visual comparison of language skills) -> Library/Method (Chart.js Canvas).
            - Skills (Expertise): Report Info (Attitude & Expertise) -> Goal (Organize/Inform) -> Presentation (Grid of interactive cards) -> Interaction (Hover to scale/highlight) -> Justification (Breaks down complex skills into digestible, visually appealing components).
            - Education: Report Info (Degrees, Certs) -> Goal (Organize) -> Presentation (Clean card layout) -> Interaction (Simple hover effects) -> Justification (Clear and straightforward presentation of credentials).
        */
        body { 
            font-family: 'Inter', sans-serif; 
        }
        .section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .nav-link.active {
            background-color: #4A5568;
            color: #E2E8F0;
        }
        .timeline-item.active .timeline-dot {
            background-color: #38B2AC;
            transform: translateY(-50%) scale(1.25);
        }
        .timeline-item.active .timeline-content h3 {
             color: #38B2AC;
        }
        .chart-container {
            position: relative; 
            width: 100%; 
            max-width: 600px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 300px;
            max-height: 400px;
        }
         @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }
        .skill-card-description {
            max-height: 4rem;
            overflow: hidden;
            transition: max-height 1.5s ease-out; /* Adjusted to 1.5s */
        }
        .skill-card-expanded .skill-card-description {
            max-height: 10rem;
        }
        .skill-card-additional-text {
            opacity: 0;
            height: 0;
            overflow: hidden;
            transition: opacity 1.5s ease-out, height 1.5s ease-out; /* Adjusted to 1.5s */
        }
        .skill-card-expanded .skill-card-additional-text {
            opacity: 1;
            height: auto;
            margin-top: 0.5rem;
        }
        .interest-item {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 0.5rem;
            cursor: pointer;
            min-height: 80px;
        }

        /* Timeline Item Structure */
        .timeline-item {
            position: relative;
            padding-bottom: 2rem; /* pb-8 */
        }

        /* Vertical Line */
        .timeline-vertical-line {
            position: absolute;
            left: 10px; /* Center with the dot */
            top: 0;
            height: 100%;
            width: 2px; /* w-0.5 approx */
            background-color: #4A5568; /* gray-700 */
        }

        /* Dot */
        .timeline-dot {
            position: absolute;
            left: 0; /* Align to the left edge of the line */
            top: 0.75rem; /* Adjust based on content padding-top and h3 line-height */
            transform: translateY(-50%); /* Vertically center the dot */
            width: 20px; /* w-5 */
            height: 20px; /* h-5 */
            background-color: #4A5568; /* gray-600 */
            border-radius: 50%;
            border: 4px solid #0A192F; /* border-[#1A202C] */
            transition: all 0.3s;
            z-index: 1; /* Ensure dot is above the line */
        }

        /* Timeline Content Box */
        .timeline-content {
            margin-left: 28px; /* Push content right to clear dot (20px dot + 8px gap) */
            padding: 0.75rem; /* p-3 for internal spacing */
            background-color: #1A202C; /* bg-[#1A202C] */
            border-radius: 0.5rem; /* rounded-lg */
            transition: all 0.5s ease-in-out; /* Smooth transition for content changes */
        }


        /* Mobile Navigation Overlay */
        .mobile-nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .mobile-nav-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .mobile-nav {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 200px; /* Width of the mobile nav */
            background-color: #1A202C;
            z-index: 50;
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            padding-top: 2rem;
            display: flex;
            flex-direction: column;
            align-items: flex-start; /* Left align items */
            padding-left: 1rem; /* Add some left padding */
        }
        .mobile-nav.active {
            transform: translateX(0);
        }
        .nav-link-mobile {
            text-align: left; /* Ensure text is left-aligned within the link */
            padding-left: 1rem; /* Add padding to align text with icons */
            width: 100%; /* Ensure links take full width */
            display: flex; /* Use flex to align icon and text */
            align-items: center; /* Vertically center icon and text */
        }
        .nav-link-mobile span {
            margin-right: 0.5rem; /* Space between icon and text */
        }

        /* Desktop styles for main content area */
        @media (min-width: 768px) {
            main {
                margin-left: 80px; /* Adjust based on desktop nav width */
            }
        }

        /* Highlighted item style */
        .highlighted-item {
            box-shadow: 0 0 15px 5px rgba(56, 178, 172, 0.7); /* Greenish glow */
            border-radius: 0.5rem; /* Rounded edges */
            background-color: #0A192F; /* Match body background color */
            transition: box-shadow 0.8s ease-in-out, background-color 0.8s ease-in-out; /* Smooth transition for the glow and background */
        }

        /* Permanent highlight for selected experience item */
        .timeline-content.active-experience-glow {
            box-shadow: 0 0 15px 5px rgba(56, 178, 172, 0.7); /* Greenish glow */
            border-radius: 0.5rem; /* Rounded edges */
            transition: box-shadow 0.8s ease-in-out; /* Smooth transition for the glow */
        }


        /* Related Items Pop-up Styles */
        #related-items-popup {
            position: absolute;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
            min-width: 200px;
            max-width: 300px;
            box-sizing: border-box;
        }
        #related-items-popup.active-popup {
            opacity: 1;
            visibility: visible;
        }

        /* Styles for clickable items in the popup */
        .popup-item {
            cursor: pointer;
            text-decoration: none; /* Remove default underline */
            transition: text-decoration 0.2s ease-in-out;
            display: flex; /* Ensure icon and text are inline */
            align-items: center; /* Vertically align icon and text */
        }
        .popup-item span:last-child { /* Target only the text span */
            text-decoration: none; /* Ensure no default underline */
        }
        .popup-item span:last-child:hover { /* Underline text on hover */
            text-decoration: underline;
        }
    </style>
</head>
<body class="bg-[#0A192F] text-[#CBD5E0]">
    <div class="flex min-h-screen">
        <nav class="bg-[#1A202C] w-16 md:w-20 flex-col items-center py-8 space-y-6 hidden md:flex fixed h-full">
            <a href="#home" class="nav-link p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200" title="Home">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256"><path d="M222.14,105.85l-80-80a20,20,0,0,0-28.28,0l-80,80A19.86,19.86,0,0,0,28,120v96a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V120A19.86,19.86,0,0,0,222.14,105.85ZM204,204H52V121.65l76-76,76,76Z"></path></svg>
            </a>
            <a href="#experience" class="nav-link p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200" title="Experience">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256"><path d="M216,60H179.83A52,52,0,0,0,76.17,60H40A20,20,0,0,0,20,80V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V80A20,20,0,0,0,216,60ZM128,36a28,28,0,0,1,27.71,24H100.29A28,28,0,0,1,128,36Zm84,160H44V84H212Z"></path></svg>
            </a>
            <a href="#skills" class="nav-link p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200" title="Skills">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256"><path d="M243,96a20.33,20.33,0,0,0-17.74-14l-56.59-4.57L146.83,24.62a20.36,20.36,0,0,0-37.66,0L87.35,77.44,30.76,82A20.45,20.45,0,0,0,19.1,117.88l43.18,37.24-13.2,55.7A20.37,20.37,0,0,0,79.57,233L128,203.19,176.43,233a20.39,20.39,0,0,0,30.49-22.15l-13.2-55.7,43.18-37.24A20.43,20.43,0,0,0,243,96ZM172.53,141.7a12,12,0,0,0-3.84,11.86L181.58,208l-47.29-29.08a12,12,0,0,0-12.58,0L74.42,208l12.89-54.4a12,12,0,0,0-3.84-11.86L41.2,105.24l55.4-4.47a12,12,0,0,0,10.13-7.38L128,41.89l21.27,51.5a12,12,0,0,0,10.13,7.38l55.4,4.47Z"></path></svg>
            </a>
            <a href="#education" class="nav-link p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200" title="Education">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256"><path d="M232,44H160a43.86,43.86,0,0,0-32,13.85A43.86,43.86,0,0,0,96,44H24A12,12,0,0,0,12,56V200a12,12,0,0,0,12,12H96a20,20,0,0,1,20,20,12,12,0,0,0,24,0,20,20,0,0,1,20-20h72a12,12,0,0,0,12-12V56A12,12,0,0,0,232,44ZM96,188H36V68H96a20,20,0,0,1,20,20V192.81A43.79,43.79,0,0,0,96,188Zm124,0H160a43.71,43.71,0,0,0-20,4.83V88a20,20,0,0,1,20-20h60Z"></path></svg>
            </a>
            <a href="#contact" class="nav-link p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200" title="Contact">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 256 256"><path d="M216,20H40A20,20,0,0,0,20,40V216a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V40A20,20,0,0,0,216,20Zm-4,192H44V44H212ZM112,176V120a12,12,0,0,1,21.43-7.41A40,40,0,0,1,192,148v28a12,12,0,0,1-24,0V148a16,16,0,0,0-32,0v28a12,12,0,0,1-24,0ZM96,120v56a12,12,0,0,1-24,0V120a12,12,0,0,1,24,0ZM68,80A16,16,0,1,1,84,96,16,16,0,0,1,68,80Z"></path></svg>
            </a>
        </nav>

        <div class="md:hidden fixed top-4 left-4 z-30">
            <button id="mobile-nav-toggle" class="p-2 rounded-md bg-[#1A202C] text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200">
                <span class="text-2xl">☰</span>
            </button>
        </div>

        <nav id="mobile-nav" class="mobile-nav space-y-6">
            <button id="mobile-nav-close" class="absolute top-4 right-4 p-2 text-gray-400 hover:text-white">
                <span class="text-2xl">✕</span>
            </button>
            <a href="#home" class="nav-link-mobile p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200 w-full" title="Home">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 256 256"><path d="M222.14,105.85l-80-80a20,20,0,0,0-28.28,0l-80,80A19.86,19.86,0,0,0,28,120v96a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V120A19.86,19.86,0,0,0,222.14,105.85ZM204,204H52V121.65l76-76,76,76Z"></path></svg>
                Home
            </a>
            <a href="#experience" class="nav-link-mobile p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200 w-full" title="Experience">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 256 256"><path d="M216,60H179.83A52,52,0,0,0,76.17,60H40A20,20,0,0,0,20,80V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V80A20,20,0,0,0,216,60ZM128,36a28,28,0,0,1,27.71,24H100.29A28,28,0,0,1,128,36Zm84,160H44V84H212Z"></path></svg>
                Experience
            </a>
            <a href="#skills" class="nav-link-mobile p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200 w-full" title="Skills">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 256 256"><path d="M243,96a20.33,20.33,0,0,0-17.74-14l-56.59-4.57L146.83,24.62a20.36,20.36,0,0,0-37.66,0L87.35,77.44,30.76,82A20.45,20.45,0,0,0,19.1,117.88l43.18,37.24-13.2,55.7A20.37,20.37,0,0,0,79.57,233L128,203.19,176.43,233a20.39,20.39,0,0,0,30.49-22.15l-13.2-55.7,43.18-37.24A20.43,20.43,0,0,0,243,96ZM172.53,141.7a12,12,0,0,0-3.84,11.86L181.58,208l-47.29-29.08a12,12,0,0,0-12.58,0L74.42,208l12.89-54.4a12,12,0,0,0-3.84-11.86L41.2,105.24l55.4-4.47a12,12,0,0,0,10.13-7.38L128,41.89l21.27,51.5a12,12,0,0,0,10.13,7.38l55.4,4.47Z"></path></svg>
                Skills
            </a>
            <a href="#education" class="nav-link-mobile p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200 w-full" title="Education">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 256 256"><path d="M232,44H160a43.86,43.86,0,0,0-32,13.85A43.86,43.86,0,0,0,96,44H24A12,12,0,0,0,12,56V200a12,12,0,0,0,12,12H96a20,20,0,0,1,20,20,12,12,0,0,0,24,0,20,20,0,0,1,20-20h72a12,12,0,0,0,12-12V56A12,12,0,0,0,232,44ZM96,188H36V68H96a20,20,0,0,1,20,20V192.81A43.79,43.79,0,0,0,96,188Zm124,0H160a43.71,43.71,0,0,0-20,4.83V88a20,20,0,0,1,20-20h60Z"></path></svg>
                Education
            </a>
            <a href="#contact" class="nav-link-mobile p-3 rounded-lg text-gray-400 hover:bg-gray-700 hover:text-white transition-colors duration-200 w-full" title="Contact">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 mr-3" fill="currentColor" viewBox="0 0 256 256"><path d="M216,20H40A20,20,0,0,0,20,40V216a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V40A20,20,0,0,0,216,20Zm-4,192H44V44H212ZM112,176V120a12,12,0,0,1,21.43-7.41A40,40,0,0,1,192,148v28a12,12,0,0,1-24,0V148a16,16,0,0,0-32,0v28a12,12,0,0,1-24,0ZM96,120v56a12,12,0,0,1-24,0V120a12,12,0,0,1,24,0ZM68,80A16,16,0,1,1,84,96,16,16,0,0,1,68,80Z"></path></svg>
                Contact
            </a>
        </nav>        
        <div id="mobile-nav-backdrop" class="mobile-nav-overlay"></div>

        <main class="flex-1 p-6 md:p-12 overflow-y-auto md:ml-20 relative"> <section id="home" class="section">
                <div class="max-w-4xl mx-auto text-center flex flex-col justify-center h-full">
                    <h1 class="text-5xl md:text-7xl font-black text-white mb-2">Calogero Granatella</h1>
                    <h2 class="text-xl md:text-3xl font-semibold text-[#38B2AC] mb-6">Hospitality Visionary | Creative Strategist | Innovation Leader</h2>
                    <p class="text-lg md:text-xl text-gray-300 leading-relaxed">
                        Collaborator at heart. A forward-thinker and team culture leader with expertise in hospitality operations, strategy, financial analysis, and business innovation. Passionate about storytelling strategies, developing innovative tech solutions, and rethinking how people travel, stay, and live.
                    </p>
                </div>
            </section>

            <section id="experience" class="section">
                <div class="max-w-6xl mx-auto">
                    <h2 class="text-4xl font-bold text-white mb-2 text-center">Professional Experience</h2>
                    <p class="text-center text-lg text-gray-400 mb-12">Click on any role in the timeline to see my detailed responsibilities and achievements associated with it.</p>
                    <div class="md:flex md:space-x-12">
                        <div class="md:w-1/3 relative">
                            <div class="absolute left-2.5 top-0 h-full w-0.5 bg-gray-700"></div>
                            <div id="timeline-container">
                                <div class="timeline-item relative pl-8 pb-8 cursor-pointer" data-index="0" data-experience-id="exp-neom">
                                    <div class="timeline-dot absolute left-0 top-1 w-5 h-5 bg-gray-600 rounded-full border-4 border-[#1A202C] transition-all duration-300"></div>
                                    <div class="timeline-content" data-id="exp-neom">
                                        <h3 class="text-lg font-bold text-white transition-colors duration-300">Business Specialist</h3>
                                        <p class="text-sm text-gray-400">NEOM, Hotel Division</p>
                                        <p class="text-xs text-gray-500">Nov 2023 – Present</p>
                                    </div>
                                </div>
                                <div class="timeline-item relative pl-8 pb-8 cursor-pointer" data-index="1" data-experience-id="exp-treble">
                                    <div class="timeline-dot absolute left-0 top-1 w-5 h-5 bg-gray-600 rounded-full border-4 border-[#1A202C] transition-all duration-300"></div>
                                    <div class="timeline-content" data-id="exp-treble">
                                        <h3 class="text-lg font-bold text-white transition-colors duration-300">Senior Consultant</h3>
                                        <p class="text-sm text-gray-400">Treble</p>
                                        <p class="text-xs text-gray-500">Apr 2023 – Nov 2023</p>
                                    </div>
                                </div>
                                <div class="timeline-item relative pl-8 pb-8 cursor-pointer" data-index="2" data-experience-id="exp-krisnen">
                                    <div class="timeline-dot absolute left-0 top-1 w-5 h-5 bg-gray-600 rounded-full border-4 border-[#1A202C] transition-all duration-300"></div>
                                    <div class="timeline-content" data-id="exp-krisnen">
                                        <h3 class="text-lg font-bold text-white transition-colors duration-300">Senior Consultant & Founding Employee</h3>
                                        <p class="text-sm text-gray-400">Krisnen Management Consulting</p>
                                        <p class="text-xs text-gray-500">Jun 2021 – Apr 2023</p>
                                    </div>
                                </div>
                                <div class="timeline-item relative pl-8 pb-8 cursor-pointer" data-index="3" data-experience-id="exp-hotelschool-assistant">
                                    <div class="timeline-dot absolute left-0 top-1 w-5 h-5 bg-gray-600 rounded-full border-4 border-[#1A202C] transition-all duration-300"></div>
                                    <div class="timeline-content" data-id="exp-hotelschool-assistant">
                                        <h3 class="text-lg font-bold text-white transition-colors duration-300">Student Assistant & Treasurer</h3>
                                        <p class="text-sm text-gray-400">Hotelschool The Hague</p>
                                        <p class="text-xs text-gray-500">Feb 2021 – Feb 2022</p>
                                    </div>
                                </div>
                                <div class="timeline-item relative pl-8 pb-8 cursor-pointer" data-index="4" data-experience-id="exp-chef">
                                    <div class="timeline-dot absolute left-0 top-1 w-5 h-5 bg-gray-600 rounded-full border-4 border-[#1A202C] transition-all duration-300"></div>
                                    <div class="timeline-content" data-id="exp-chef">
                                        <h3 class="text-lg font-bold text-white transition-colors duration-300">Apprenticeship as a Chef & Commis de Cuisine</h3>
                                        <p class="text-sm text-gray-400">Various Fine-Dining Restaurants</p>
                                        <p class="text-xs text-gray-500">Aug 2017 – Feb 2021</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="experience-details" class="md:w-2/3 mt-8 md:mt-0 bg-[#1A202C] p-6 rounded-lg min-h-[350px]">
                            <h3 class="text-2xl font-bold text-white">Select a role</h3>
                            <p class="text-gray-400">Click on a job title from the timeline to see the details here.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="skills" class="section">
                 <div class="max-w-6xl mx-auto">
                     <h2 class="text-4xl font-bold text-white mb-2 text-center">Skills & Expertise</h2>
                       <p class="text-center text-lg text-gray-400 mb-12">Hover over any card to learn more about my approach in that area.</p>
                     <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                         <div>
                             <h3 class="text-2xl font-bold text-white mb-4 text-center">Attitude & Expertise</h3>
                             <div id="expertise-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                 <div class="bg-[#1A202C] p-4 rounded-lg text-center transition-transform duration-300 transform hover:scale-105 hover:bg-gray-800 flex flex-col items-center justify-start overflow-hidden relative group" data-id="skill-relationship">
                                     <div class="mb-2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M253.88,108.11l-25.53-51a20,20,0,0,0-26.83-9L178.34,59.7,131.7,44.58a12.14,12.14,0,0,0-7.4,0L77.66,59.7,54.48,48.11a20,20,0,0,0-26.83,9L2.12,108.11a20,20,0,0,0,9,26.83l26.67,13.34,51.18,37.41A12.15,12.15,0,0,0,93,187.62l62,16a12.27,12.27,0,0,0,3,.38,12,12,0,0,0,8.48-3.52l52.62-52.62,25.83-12.92a20,20,0,0,0,8.95-26.83Zm-58.12,29.15-27.52-26a12,12,0,0,0-16.76.26c-9.66,9.74-25.06,16.81-40.81,9.55l38.19-37h22.72l25.81,51.63ZM47.32,71.37,60.59,78l-22,43.9-13.27-6.63Zm107,107.3L101.23,165l-42-30.66L85.17,82.5,128,68.61l1.69.55L90,107.68l-.13.12a20,20,0,0,0,3.4,31c20.95,13.39,46,12.07,66.33-2.73l19.2,18.15Zm63-56.77-22-43.9,13.27-6.63,21.95,43.9ZM118.55,219a12,12,0,0,1-14.62,8.62l-26.6-6.87a12,12,0,0,1-4.08-1.93L48.92,201a12,12,0,0,1,14.16-19.37l22.47,16.42,24.38,6.29A12,12,0,0,1,118.55,219Z"></path></svg>
                                     </div>
                                     <h4 class="text-lg font-bold text-white">Relationship Building & Collaboration</h4>
                                     <p class="text-sm text-gray-400 mt-2 skill-card-description w-full">Bring people together to discuss important issues and get things done.</p>
                                     <p class="text-xs text-gray-500 mt-2 skill-card-additional-text w-full">It's truly rewarding to hear that colleagues often mention my ability to connect with people across various levels. I genuinely believe in building trust and clear communication through active listening and asking thoughtful questions, which helps foster a positive, collaborative team environment where everyone feels appreciated.</p>
                                 </div>
                                 <div class="bg-[#1A202C] p-4 rounded-lg text-center transition-transform duration-300 transform hover:scale-105 hover:bg-gray-800 flex flex-col items-center justify-start overflow-hidden relative group" data-id="skill-reflection">
                                     <div class="mb-2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"></path></svg>
                                     </div>
                                     <h4 class="text-lg font-bold text-white">Reflection & Feedback</h4>
                                     <p class="text-sm text-gray-400 mt-2 skill-card-description w-full">Self-reflect, give emotionally intelligent feedback and speak up for change.</p>
                                     <p class="text-xs text-gray-500 mt-2 skill-card-additional-text w-full">I believe in continuous growth, and I truly value feedback as a core part of professional development. Colleagues often highlight my self-awareness and how I use critique positively, driving progress and initiating beneficial changes for both myself and the team.</p>
                                 </div>
                                 <div class="bg-[#1A202C] p-4 rounded-lg text-center transition-transform duration-300 transform hover:scale-105 hover:bg-gray-800 flex flex-col items-center justify-start overflow-hidden relative group" data-id="skill-innovation">
                                     <div class="mb-2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M227.85,46.89a20,20,0,0,0-18.74-18.74c-13.13-.77-46.65.42-74.48,28.24L131,60H74.36a19.83,19.83,0,0,0-14.14,5.86L25.87,100.19a20,20,0,0,0,11.35,33.95l37.14,5.18,42.32,42.32,5.19,37.18A19.88,19.88,0,0,0,135.34,235a20.13,20.13,0,0,0,6.37,1,19.9,19.9,0,0,0,14.1-5.87l34.34-34.35A19.85,19.85,0,0,0,196,181.64V125l3.6-3.59C227.43,93.54,228.62,60,227.85,46.89ZM76,84h31L75.75,115.28l-27.23-3.8ZM151.6,73.37A72.27,72.27,0,0,1,204,52a72.17,72.17,0,0,1-21.38,52.41L128,159,97,128ZM172,180l-27.49,27.49-3.8-27.23L172,149Zm-72,22c-8.71,11.85-26.19,26-60,26a12,12,0,0,1-12-12c0-33.84,14.12-51.32,26-60A12,12,0,1,1,68.18,175.3C62.3,179.63,55.51,187.8,53,203c15.21-2.51,23.37-9.3,27.7-15.18A12,12,0,1,1,100,202Z"></path></svg>
                                     </div>
                                     <h4 class="text-lg font-bold text-white">Innovation & Strategy Development</h4>
                                     <p class="text-sm text-gray-400 mt-2 skill-card-description w-full">Business innovation, corporate strategy, and tech development.</p>
                                     <p class="text-xs text-gray-500 mt-2 skill-card-additional-text w-full">I enjoy a good challenge, and people often commend my approach to complex problems – even those outside my direct technical field – with creative, solution-driven thinking. I'm particularly skilled at breaking down intricate concepts into understandable stories, which helps bring fresh perspectives and innovative ideas to strategy and tech development.</p>
                                 </div>
                                 <div class="bg-[#1A202C] p-4 rounded-lg text-center transition-transform duration-300 transform hover:scale-105 hover:bg-gray-800 flex flex-col items-center justify-start overflow-hidden relative group" data-id="skill-leadership">
                                     <div class="mb-2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M243.16,68.85a17.4,17.4,0,0,0-15.26-12l-34.52-2.72L180.12,22.66a17.52,17.52,0,0,0-32.24,0L134.62,54.09l-34.51,2.72a17.39,17.39,0,0,0-9.93,30.62l26.17,22.1-8,33a17.46,17.46,0,0,0,26,19L164,143.66l29.59,17.81a17.46,17.46,0,0,0,26-19l-8-33,26.17-22.1A17.3,17.3,0,0,0,243.16,68.85ZM190.5,96a12,12,0,0,0-3.92,12l6,24.91-22.41-13.5a12.06,12.06,0,0,0-12.38,0l-22.41,13.5,6-24.91a12,12,0,0,0-3.93-12L118,79.48l25.83-2a12,12,0,0,0,10.11-7.3L164,46.2l10.11,23.94a12,12,0,0,0,10.11,7.3l25.82,2Zm-158,88.52a12,12,0,0,1-17-17l51.76-51.75a12,12,0,0,1,17,17Zm63.59-8.57a12,12,0,0,1,0,17l-47.59,47.6a12,12,0,0,1-17-17l47.6-47.59A12,12,0,0,1,96.08,175.92Zm62.44,9.56a12,12,0,0,1,0,17l-38,38a12,12,0,0,1-17-17l38-38A12,12,0,0,1,158.52,185.48Z"></path></svg>
                                     </div>
                                     <h4 class="text-lg font-bold text-white">Leadership & Hospitality</h4>
                                     <p class="text-sm text-gray-400 mt-2 skill-card-description w-full">Culture building, people development and service excellence.</p>
                                     <p class="text-xs text-gray-500 mt-2 skill-card-additional-text w-full">I naturally bring positive energy and drive to my work, which I'm told motivates those around me. I genuinely enjoy taking initiative and leading by example, always striving to build strong team cultures and achieve excellence in every hospitality venture.</p>
                                 </div>
                                 <div class="bg-[#1A202C] p-4 rounded-lg text-center transition-transform duration-300 transform hover:scale-105 hover:bg-gray-800 flex flex-col items-center justify-start overflow-hidden relative group" data-id="skill-financial">
                                     <div class="mb-2 text-gray-400">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M236,208a12,12,0,0,1-12,12H32a12,12,0,0,1-12-12V48a12,12,0,0,1,24,0v85.55L88.1,95a12,12,0,0,1,15.1-.57l56.22,42.16L216.1,87A12,12,0,1,1,231.9,105l-64,56a12,12,0,0,1-15.1.57L96.58,119.44,44,165.45V196H224A12,12,0,0,1,236,208Z"></path></svg>
                                     </div>
                                     <h4 class="text-lg font-bold text-white">Financial & Business Analysis</h4>
                                     <p class="text-sm text-gray-400 mt-2 skill-card-description w-full">Feasibility studies, financial modeling, and asset management.</p>
                                     <p class="text-xs text-gray-500 mt-2 skill-card-additional-text w-full">Numbers truly tell a story for me, and colleagues often recognize my strong analytical skills and careful approach to financial modeling and fluidity studies. I pride myself on being a productive and efficient professional, ensuring thoroughness and accuracy in all my work, even when facing tight deadlines.</p>
                                 </div>
                             </div>
                         </div>
                         <div>
                             <h3 class="text-2xl font-bold text-white mb-4 text-center">Language Proficiency</h3>
                             <div class="bg-[#1A202C] p-6 rounded-lg chart-container">
                                 <canvas id="languageChart"></canvas>
                             </div>
                             <div class="mt-8">
                                 <h3 class="text-2xl font-bold text-white mb-4 text-center">Interests</h3>
                                 <div id="interests-grid" class="flex justify-evenly items-start flex-wrap gap-4"></div>
                             </div>
                         </div>
                     </div>
                 </div>
             </section>

            <section id="education" class="section">
                <div class="max-w-5xl mx-auto">
                    <h2 class="text-4xl font-bold text-white mb-2 text-center">Education & Certifications</h2>
                    <p class="text-center text-lg text-gray-400 mb-12">Click on any card to view which professional experience and skills it fostered.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-2xl font-bold text-white mb-4">Formal Education</h3>
                            <div id="education-container" class="space-y-4">
                                <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer education-card" data-id="edu-hotelschool">
                                    <h4 class="text-lg font-bold text-white">Bachelor’s Degree in International Hospitality Management</h4>
                                    <p class="text-md text-[#38B2AC]">Hotelschool The Hague | Netherlands</p>
                                    <p class="text-sm text-gray-500">2020 – 2023</p>
                                </div>
                                <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer education-card" data-id="edu-chef">
                                    <h4 class="text-lg font-bold text-white">Apprenticeship as a Chef – Hybrid Education</h4>
                                    <p class="text-md text-[#38B2AC]">Robert Wetzlar Berufskolleg | Germany</p>
                                    <p class="text-sm text-gray-500">2017 – 2020</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-white mb-4">Certifications</h3>
                            <div id="certifications-container" class="space-y-4">
                                <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer certification-card" data-id="cert-pmp">
                                    <h4 class="text-lg font-bold text-white">Project Management Professional (PMP)</h4>
                                    <p class="text-md text-[#38B2AC]">Project Management Institute (PMI)</p>
                                    <p class="text-sm text-gray-500">2024</p>
                                </div>
                                <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer certification-card" data-id="cert-mlp">
                                    <h4 class="text-lg font-bold text-white">Maximizing Your Leadership Potential (MLP)</h4>
                                    <p class="text-md text-[#38B2AC]">Center for Creative Leadership</p>
                                    <p class="text-sm text-gray-500">2024</p>
                                </div>
                                <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer certification-card" data-id="cert-cx">
                                    <h4 class="text-lg font-bold text-white">Winning Through Customer Experience</h4>
                                    <p class="text-md text-[#38B2AC]">Bain & Company</p>
                                    <p class="text-sm text-gray-500">2024</p>
                                </div>
                                <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer certification-card" data-id="cert-fmva">
                                    <h4 class="text-lg font-bold text-white">Financial Modeling & Valuation Analyst (FMVA)</h4>
                                    <p class="text-md text-[#38B2AC]">Corporate Finance Institute (CFI)</p>
                                    <p class="text-sm text-gray-500">2023</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="contact" class="section">
                <div class="max-w-2xl mx-auto text-center flex flex-col justify-center h-full">
                    <h2 class="text-5xl font-bold text-white mb-4">Get In Touch</h2>
                    <p class="text-lg text-gray-300 mb-8">
                        I'm always open to discussing new projects, creative ideas, or opportunities to be part of an ambitious vision. Feel free to reach out.
                    </p>
                    <div class="flex justify-center space-x-6">
                        <a href="https://linkedin.com/in/calogero-granatella" target="_blank" class="bg-[#1A202C] p-4 rounded-lg hover:bg-[#38B2AC] hover:text-white transition-all duration-300 transform hover:scale-110">
                            <span class="text-4xl">🔗</span>
                            <span class="block mt-1 text-sm">LinkedIn</span>
                        </a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="related-items-popup" class="hidden bg-[#1A202C] p-4 rounded-lg shadow-lg z-50 flex flex-col items-start space-y-2 border border-gray-700 transition-all duration-300">
        <div id="popup-content" class="flex flex-col space-y-2">
            </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const experienceData = [
                {
                    id: "exp-neom",
                    role: "Business Specialist",
                    company: "NEOM, Hotel Division",
                    period: "Nov 2023 – Present",
                    location: "Saudi Arabia",
                    details: [
                        "Driving strategy and innovation in one of the world's most ambitious hospitality and tourism projects.",
                        "Preparing strategy documents for and presenting tech solutions and concepts to senior executive leadership.",
                        "Managing the development and implementation of next-generation tech and business solutions for asset management, commercial distribution, and financial analysis.",
                        "Leading the development of a cultural transformation initiative, redefining ways of working within the department to foster collaboration, efficiency, and innovation.",
                        "Collaborating with cross-functional teams to develop groundbreaking hospitality concepts and business models, setting new industry standards."
                    ]
                },
                {
                    id: "exp-treble",
                    role: "Senior Consultant",
                    company: "Treble",
                    period: "Apr 2023 – Nov 2023",
                    location: "Remote & On-site",
                    details: [
                        "Led strategic consulting initiatives in hospitality, focusing on business innovation and tech development.",
                        "Delivered financial feasibility studies, labor modeling, and market research for top-tier clients in Europe and the Middle East.",
                        "Played a key role in internal business growth, including talent recruitment, HR development, and strategic decisions."
                    ]
                },
                {
                    id: "exp-krisnen",
                    role: "Senior Consultant & Founding Employee",
                    company: "Krisnen Management Consulting",
                    period: "Jun 2021 – Apr 2023",
                    location: "Remote & On-site",
                    details: [
                        "Developed financial models, asset management strategies, and financial analyses for hospitality and real estate investments.",
                        "Managed large-scale strategy projects, benchmarking exercises, and corporate advisory services.",
                        "Contributed to internal business development and private partner engagement.",
                        "Recruited, hired, and onboarded the first set of management-level and entry-level consultants (20+ hires)."
                    ]
                },
                {
                    id: "exp-hotelschool-assistant",
                    role: "Student Assistant & Treasurer",
                    company: "Hotelschool The Hague",
                    period: "Feb 2021 – Feb 2022",
                    location: "Netherlands",
                    details: [
                        "Assisted in academic programs, research, and student success initiatives.",
                        "Managed financial budgets, proposals, and treasury functions for the student-led Student Council.",
                        "Design and implemented efficiency-enhancing digital tools to optimize operations."
                    ]
                },
                {
                    id: "exp-chef",
                    role: "Apprenticeship as a Chef & Commis de Cuisine",
                    period: "Aug 2017 – Feb 2021",
                    company: "Various Fine-Dining Restaurants",
                    location: "Germany & Netherlands",
                    details: [
                        "Professional education under the German apprenticeship system (2.5 years hybrid education) to become a certified chef.",
                        "Commis de Cuisine and Tournant in a fine-dining restaurant in The Hague, Netherlands.",
                        "Covered all traditional kitchen sections, breakfast service, banqueting events (both in kitchen and service), and fine dining a-la-carte (both in kitchen and service)."
                    ]
                }
            ];

             const expertiseData = [
    { 
        id: "skill-relationship", 
        title: "Relationship Building & Collaboration", 
        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M253.88,108.11l-25.53-51a20,20,0,0,0-26.83-9L178.34,59.7,131.7,44.58a12.14,12.14,0,0,0-7.4,0L77.66,59.7,54.48,48.11a20,20,0,0,0-26.83,9L2.12,108.11a20,20,0,0,0,9,26.83l26.67,13.34,51.18,37.41A12.15,12.15,0,0,0,93,187.62l62,16a12.27,12.27,0,0,0,3,.38,12,12,0,0,0,8.48-3.52l52.62-52.62,25.83-12.92a20,20,0,0,0,8.95-26.83Zm-58.12,29.15-27.52-26a12,12,0,0,0-16.76.26c-9.66,9.74-25.06,16.81-40.81,9.55l38.19-37h22.72l25.81,51.63ZM47.32,71.37,60.59,78l-22,43.9-13.27-6.63Zm107,107.3L101.23,165l-42-30.66L85.17,82.5,128,68.61l1.69.55L90,107.68l-.13.12a20,20,0,0,0,3.4,31c20.95,13.39,46,12.07,66.33-2.73l19.2,18.15Zm63-56.77-22-43.9,13.27-6.63,21.95,43.9ZM118.55,219a12,12,0,0,1-14.62,8.62l-26.6-6.87a12,12,0,0,1-4.08-1.93L48.92,201a12,12,0,0,1,14.16-19.37l22.47,16.42,24.38,6.29A12,12,0,0,1,118.55,219Z"></path></svg>`,
        description: "Bring people together to discuss important issues and get things done.", 
        longDescription: "It's truly rewarding to hear that colleagues often mention my ability to connect with people across various levels. I genuinely believe in building trust and clear communication through active listening and asking thoughtful questions, which helps foster a positive, collaborative team environment where everyone feels appreciated." 
    },
    { 
        id: "skill-reflection", 
        title: "Reflection & Feedback", 
        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"></path></svg>`, 
        description: "Self-reflect, give emotionally intelligent feedback and speak up for change.", 
        longDescription: "I believe in continuous growth, and I truly value feedback as a core part of professional development. Colleagues often highlight my self-awareness and how I use critique positively, driving progress and initiating beneficial changes for both myself and the team." 
    },
    { 
        id: "skill-innovation", 
        title: "Innovation & Strategy Development", 
        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M227.85,46.89a20,20,0,0,0-18.74-18.74c-13.13-.77-46.65.42-74.48,28.24L131,60H74.36a19.83,19.83,0,0,0-14.14,5.86L25.87,100.19a20,20,0,0,0,11.35,33.95l37.14,5.18,42.32,42.32,5.19,37.18A19.88,19.88,0,0,0,135.34,235a20.13,20.13,0,0,0,6.37,1,19.9,19.9,0,0,0,14.1-5.87l34.34-34.35A19.85,19.85,0,0,0,196,181.64V125l3.6-3.59C227.43,93.54,228.62,60,227.85,46.89ZM76,84h31L75.75,115.28l-27.23-3.8ZM151.6,73.37A72.27,72.27,0,0,1,204,52a72.17,72.17,0,0,1-21.38,52.41L128,159,97,128ZM172,180l-27.49,27.49-3.8-27.23L172,149Zm-72,22c-8.71,11.85-26.19,26-60,26a12,12,0,0,1-12-12c0-33.84,14.12-51.32,26-60A12,12,0,1,1,68.18,175.3C62.3,179.63,55.51,187.8,53,203c15.21-2.51,23.37-9.3,27.7-15.18A12,12,0,1,1,100,202Z"></path></svg>`, 
        description: "Business innovation, corporate strategy, and tech development.", 
        longDescription: "I enjoy a good challenge, and people often commend my approach to complex problems – even those outside my direct technical field – with creative, solution-driven thinking. I'm particularly skilled at breaking down intricate concepts into understandable stories, which helps bring fresh perspectives and innovative ideas to strategy and tech development." 
    },
    { 
        id: "skill-leadership", 
        title: "Leadership & Hospitality", 
        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M243.16,68.85a17.4,17.4,0,0,0-15.26-12l-34.52-2.72L180.12,22.66a17.52,17.52,0,0,0-32.24,0L134.62,54.09l-34.51,2.72a17.39,17.39,0,0,0-9.93,30.62l26.17,22.1-8,33a17.46,17.46,0,0,0,26,19L164,143.66l29.59,17.81a17.46,17.46,0,0,0,26-19l-8-33,26.17-22.1A17.3,17.3,0,0,0,243.16,68.85ZM190.5,96a12,12,0,0,0-3.92,12l6,24.91-22.41-13.5a12.06,12.06,0,0,0-12.38,0l-22.41,13.5,6-24.91a12,12,0,0,0-3.93-12L118,79.48l25.83-2a12,12,0,0,0,10.11-7.3L164,46.2l10.11,23.94a12,12,0,0,0,10.11,7.3l25.82,2Zm-158,88.52a12,12,0,0,1-17-17l51.76-51.75a12,12,0,0,1,17,17Zm63.59-8.57a12,12,0,0,1,0,17l-47.59,47.6a12,12,0,0,1-17-17l47.6-47.59A12,12,0,0,1,96.08,175.92Zm62.44,9.56a12,12,0,0,1,0,17l-38,38a12,12,0,0,1-17-17l38-38A12,12,0,0,1,158.52,185.48Z"></path></svg>`, 
        description: "Culture building, people development and service excellence.", 
        longDescription: "I naturally bring positive energy and drive to my work, which I'm told motivates those around me. I genuinely enjoy taking initiative and leading by example, always striving to build strong team cultures and achieve excellence in every hospitality venture." 
    },
    { 
        id: "skill-financial", 
        title: "Financial & Business Analysis", 
        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12" fill="currentColor" viewBox="0 0 256 256"><path d="M236,208a12,12,0,0,1-12,12H32a12,12,0,0,1-12-12V48a12,12,0,0,1,24,0v85.55L88.1,95a12,12,0,0,1,15.1-.57l56.22,42.16L216.1,87A12,12,0,1,1,231.9,105l-64,56a12,12,0,0,1-15.1.57L96.58,119.44,44,165.45V196H224A12,12,0,0,1,236,208Z"></path></svg>`, 
        description: "Feasibility studies, financial modeling, and asset management.", 
        longDescription: "Numbers truly tell a story for me, and colleagues often recognize my strong analytical skills and careful approach to financial modeling and fluidity studies. I pride myself on being a productive and efficient professional, ensuring thoroughness and accuracy in all my work, even when facing tight deadlines." 
    }
            ];

            const educationData = [
                {
                    id: "edu-hotelschool",
                    degree: "Bachelor’s Degree in International Hospitality Management",
                    school: "Hotelschool The Hague | Netherlands",
                    period: "2020 – 2023",
                    relatedItems: ["exp-neom", "exp-treble", "exp-krisnen", "skill-innovation", "skill-leadership", "skill-financial"]
                },
                {
                    id: "edu-chef",
                    degree: "Apprenticeship as a Chef – Hybrid Education",
                    school: "Robert Wetzlar Berufskolleg | Germany",
                    period: "2017 – 2020",
                    location: "Germany & Netherlands",
                    relatedItems: ["exp-chef", "skill-leadership", "skill-reflection"]
                }
            ];

            const certificationsData = [
                { id: "cert-pmp", name: "Project Management Professional (PMP)", issuer: "Project Management Institute (PMI)", year: "2024", relatedItems: ["exp-neom", "exp-treble", "exp-krisnen", "skill-leadership", "skill-innovation"] },
                { id: "cert-mlp", name: "Maximizing Your Leadership Potential (MLP)", issuer: "Center for Creative Leadership", year: "2024", relatedItems: ["exp-neom", "exp-treble", "exp-krisnen", "skill-leadership", "skill-reflection"] },
                { id: "cert-cx", name: "Winning Through Customer Experience", issuer: "Bain & Company", year: "2024", relatedItems: ["exp-neom", "exp-chef", "skill-relationship", "skill-leadership"] },
                { id: "cert-fmva", name: "Financial Modeling & Valuation Analyst (FMVA)", issuer: "Corporate Finance Institute (CFI)", year: "2023", relatedItems: ["exp-treble", "exp-krisnen", "skill-financial"] }
            ];

            const languageData = {
                labels: ['German', 'Italian', 'English', 'Spanish', 'Dutch', 'Arabic'],
                datasets: [{
                    label: 'Proficiency',
                    data: [100, 100, 95, 70, 40, 20], 
                    backgroundColor: 'rgba(56, 178, 172, 0.6)',
                    borderColor: 'rgba(173, 216, 230, 1)',
                    borderWidth: {
                        top: 0,
                        right: 0,
                        bottom: 2,
                        left: 0
                    }
                }]
            };

            const interestsData = [
            { 
                name: "Kitesurfing", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M225.24,174.74a12,12,0,0,1-1.58,16.89C205.49,206.71,189.06,212,174.15,212c-19.76,0-36.86-9.29-51.88-17.44-25.06-13.62-44.86-24.37-74.61.3a12,12,0,1,1-15.32-18.48c42.25-35,75-17.23,101.39-2.92,25.06,13.61,44.86,24.37,74.61-.3A12,12,0,0,1,225.24,174.74Zm-16.9-57.59c-29.75,24.67-49.55,13.91-74.61.3-26.35-14.3-59.14-32.11-101.39,2.92a12,12,0,0,0,15.32,18.48c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48ZM47.66,82.84c29.75-24.67,49.55-13.92,74.61-.3,15,8.15,32.12,17.44,51.88,17.44,14.91,0,31.34-5.29,49.51-20.36a12,12,0,0,0-15.32-18.48c-29.75,24.67-49.55,13.92-74.61.3-26.35-14.3-59.14-32.11-101.39,2.93A12,12,0,1,0,47.66,82.84Z"></path></svg>` 
            },
            { 
                name: "Tennis", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M204.4,51.6a108,108,0,1,0,0,152.8A108.16,108.16,0,0,0,204.4,51.6Zm-135.82,17a83.47,83.47,0,0,1,46.2-23.52,84.09,84.09,0,0,1-69.72,69.72A83.47,83.47,0,0,1,68.58,68.58ZM44.74,139.07a107.27,107.27,0,0,0,63.45-30.88,107.27,107.27,0,0,0,30.88-63.45,83.84,83.84,0,0,1,72.19,72.19,108.11,108.11,0,0,0-94.33,94.32,83.82,83.82,0,0,1-72.19-72.18Zm142.68,48.35a83.53,83.53,0,0,1-46.2,23.52,84.09,84.09,0,0,1,69.72-69.72A83.47,83.47,0,0,1,187.42,187.42Z"></path></svg>`
            },
            { 
                name: "Scuba Diving", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M172,76a16,16,0,1,1-16-16A16,16,0,0,1,172,76Zm48.22,69.58a102,102,0,0,1-26.78,31.29c-.24.2-.47.39-.72.56a109.52,109.52,0,0,1-13.55,8.83c-18.3,10.07-40.88,15.9-67.22,17.36L91,249a12,12,0,0,1-10.89,7q-.41,0-.81,0a12,12,0,0,1-10.66-8.44l-14.16-46-46-14.19A12,12,0,0,1,7,165l45.4-20.92c1.47-26.33,7.3-48.91,17.37-67.2A110.62,110.62,0,0,1,78.57,63.3c.16-.22.34-.44.51-.66A101.91,101.91,0,0,1,110.41,35.8c25.55-14.19,54.33-16.37,74-15.69,17.76.61,36.49,4,40.76,6.52a12.07,12.07,0,0,1,4.23,4.23c2.52,4.26,5.92,23,6.53,40.76C236.57,91.26,234.4,120,220.22,145.58Zm-68.7,26.66a56.92,56.92,0,0,1-11.12-8.64,55.81,55.81,0,0,1-15.9-32.1,55.81,55.81,0,0,1-32.1-15.9,56.63,56.63,0,0,1-8.63-11.13q-7,20.48-7.7,47.69a12,12,0,0,1-7,10.61L45.51,173.64l22.1,6.82a12,12,0,0,1,7.94,7.94l6.79,22.09L93.23,186.9a12,12,0,0,1,10.61-7Q131,179.29,151.52,172.24ZM209,47c-16.25-3.14-61.81-9-95,14.91a76.73,76.73,0,0,0-14,13,32,32,0,0,0,35,32.94,12,12,0,0,1,13.09,13.09,32,32,0,0,0,33,35,76.33,76.33,0,0,0,13-14C218.05,108.81,212.18,63.22,209,47Z"></path></svg>`
            },
            { 
                name: "Reading", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M208,20H72A36,36,0,0,0,36,56V224a12,12,0,0,0,12,12H192a12,12,0,0,0,0-24H60v-4a12,12,0,0,1,12-12H208a12,12,0,0,0,12-12V32A12,12,0,0,0,208,20ZM196,172H72a35.59,35.59,0,0,0-12,2.06V56A12,12,0,0,1,72,44H196Z"></path></svg>` 
            },
            { 
                name: "Fine Dining", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M68,88V40a12,12,0,0,1,24,0V88a12,12,0,0,1-24,0ZM220,40V224a12,12,0,0,1-24,0V180H152a12,12,0,0,1-12-12,273.23,273.23,0,0,1,7.33-57.82C157.42,68.42,176.76,40.33,203.27,29A12,12,0,0,1,220,40ZM196,62.92C182.6,77,175,98,170.77,115.38A254.41,254.41,0,0,0,164.55,156H196ZM128,39A12,12,0,0,0,104,41l4,47.46a28,28,0,0,1-56,0L56,41A12,12,0,1,0,32,39L28,87c0,.34,0,.67,0,1a52.1,52.1,0,0,0,40,50.59V224a12,12,0,0,0,24,0V138.59A52.1,52.1,0,0,0,132,88c0-.33,0-.66,0-1Z"></path></svg>`
            }
            ];

            const sections = document.querySelectorAll('.section');
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileNavLinks = document.querySelectorAll('.nav-link-mobile');
            const timelineContainer = document.getElementById('timeline-container');
            const experienceDetailsContainer = document.getElementById('experience-details');
            const expertiseGrid = document.getElementById('expertise-grid');
            const interestsGrid = document.getElementById('interests-grid');
            const educationContainer = document.getElementById('education-container');
            const certificationsContainer = document.getElementById('certifications-container');
            const mobileNavToggle = document.getElementById('mobile-nav-toggle');
            const mobileNavClose = document.getElementById('mobile-nav-close');
            const mobileNav = document.getElementById('mobile-nav');
            const mobileNavBackdrop = document.getElementById('mobile-nav-backdrop');
            const relatedItemsPopup = document.getElementById('related-items-popup');
            const popupContent = document.getElementById('popup-content');
            let languageChartInstance = null;
            let activePopupCard = null; // To track which card opened the popup

            function navigateTo(hash) {
                sections.forEach(section => section.classList.remove('active'));
                navLinks.forEach(link => link.classList.remove('active'));
                mobileNavLinks.forEach(link => link.classList.remove('active'));

                const targetSection = document.querySelector(hash);
                if (targetSection) {
                    targetSection.classList.add('active');
                    document.querySelector(`.nav-link[href="${hash}"]`)?.classList.add('active');
                    document.querySelector(`.nav-link-mobile[href="${hash}"]`)?.classList.add('active');
                    document.querySelector('main').scrollTo(0, 0);

                    if (targetSection.id === 'skills' && !languageChartInstance) {
                       renderLanguageChart();
                       renderInterests();
                    }
                } else {
                    document.getElementById('home').classList.add('active');
                    document.querySelector('.nav-link[href="#home"]')?.classList.add('active');
                    document.querySelector('.nav-link-mobile[href="#home"]')?.classList.add('active');
                    document.querySelector('main').scrollTo(0, 0);
                }

                if (mobileNav.classList.contains('active')) {
                    toggleMobileNav();
                }
                // Only clear temporary highlights
                clearHighlights(); 
                hideRelatedItemsPopup(); 
            }

            function clearHighlights() {
                // Only remove the 'highlighted-item' class (for temporary glows)
                document.querySelectorAll('.highlighted-item').forEach(item => {
                    // Only remove if it's not the permanently active experience glow
                    if (!item.classList.contains('active-experience-glow')) {
                        item.classList.remove('highlighted-item');
                    }
                });
            }

            function highlightRelatedItems(relatedIds) {
                // Clear only temporary highlights, leave permanent ones
                document.querySelectorAll('.highlighted-item').forEach(item => {
                    // Only remove if it's not the permanently active experience glow
                    if (!item.classList.contains('active-experience-glow')) {
                        item.classList.remove('highlighted-item');
                    }
                }); 
                relatedIds.forEach(id => {
                    const element = document.querySelector(`[data-id="${id}"]`);
                    if (element) {
                        element.classList.add('highlighted-item');
                    }
                });
            }

            function showRelatedItemsPopup(cardElement, relatedItems) {
                popupContent.innerHTML = ''; // Clear previous content

                const relatedExperience = [];
                const relatedSkills = [];

                relatedItems.forEach(id => {
                    if (id.startsWith('exp-')) {
                        relatedExperience.push(id);
                    } else if (id.startsWith('skill-')) {
                        relatedSkills.push(id);
                    }
                });

                let count = 0;
                if (relatedExperience.length > 0) {
                    const expHeader = document.createElement('p');
                    expHeader.className = 'text-sm font-semibold text-gray-300 mt-1 mb-1';
                    expHeader.textContent = 'Professional Experience:';
                    popupContent.appendChild(expHeader);
                    for (const id of relatedExperience) {
                        if (count >= 3) break;
                        const item = experienceData.find(exp => exp.id === id);
                        if (item) {
                            const businessSpecialistIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M216,36H140V24a12,12,0,0,0-24,0V36H40A20,20,0,0,0,20,56V176a20,20,0,0,0,20,20H71l-16.4,20.5a12,12,0,0,0,18.74,15l28.4-35.5h52.46l28.4,35.5a12,12,0,0,0,18.74-15L185,196h31a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,136H44V60H212Z"></path></svg>`;
                            const seniorConsultantIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M216,60H179.83A52,52,0,0,0,76.17,60H40A20,20,0,0,0,20,80V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V80A20,20,0,0,0,216,60ZM128,36a28,28,0,0,1,27.71,24H100.29A28,28,0,0,1,128,36Zm84,160H44V84H212Z"></path></svg>`;
                            const studentIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M188,44a32,32,0,0,0-8,1V44a32,32,0,0,0-60.79-14A32,32,0,0,0,76,60v50.83a32,32,0,0,0-52,36.7C55.82,214.6,75.35,244,128,244a92.1,92.1,0,0,0,92-92V76A32,32,0,0,0,188,44Zm8,108a68.08,68.08,0,0,1-68,68c-35.83,0-49.71-14-82.48-83.14-.14-.29-.29-.58-.45-.86a8,8,0,0,1,13.85-8l.21.35,18.68,30A12,12,0,0,0,100,152V60a8,8,0,0,1,16,0v60a12,12,0,0,0,24,0V44a8,8,0,0,1,16,0v76a12,12,0,0,0,24,0V76a8,8,0,0,1,16,0Z"></path></svg>`;
                            const chefIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M244,112a60.07,60.07,0,0,0-60-60c-1,0-1.95,0-2.92.08a60,60,0,0,0-106.16,0C74,52,73,52,72,52A60,60,0,0,0,44,165v43a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V165A60,60,0,0,0,244,112Zm-56,92H68V171.85c1.32.09,2.65.15,4,.15H184c1.35,0,2.68-.06,4-.15Zm-4-56h-8.63l4.27-17.09a12,12,0,0,0-23.28-5.82L150.63,148H140V128a12,12,0,0,0-24,0v20H105.37l-5.73-22.91a12,12,0,1,0-23.28,5.82L80.63,148H72a36,36,0,0,1-3.87-71.79C68.05,77.47,68,78.73,68,80a12,12,0,0,0,24,0,36,36,0,0,1,72,0,12,12,0,0,0,24,0c0-1.27-.05-2.53-.13-3.79A36,36,0,0,1,184,148Z"></path></svg>`;
                            const fallbackIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4b5563" viewBox="0 0 256 256"><path d="M199,125.31l-49.88-18.39L130.69,57a19.92,19.92,0,0,0-37.38,0L74.92,106.92,25,125.31a19.92,19.92,0,0,0,0,37.38l49.88,18.39L93.31,231a19.92,19.92,0,0,0,37.38,0l18.39-49.88L199,162.69a19.92,19.92,0,0,0,0-37.38Zm-63.38,35.16a12,12,0,0,0-7.11,7.11L112,212.28l-16.47-44.7a12,12,0,0,0-7.11-7.11L43.72,144l44.7-16.47a12,12,0,0,0,7.11-7.11L112,75.72l16.47,44.7a12,12,0,0,0,7.11,7.11L180.28,144ZM140,40a12,12,0,0,1,12-12h12V16a12,12,0,0,1,24,0V28h12a12,12,0,0,1,0,24H188V64a12,12,0,0,1-24,0V52H152A12,12,0,0,1,140,40ZM252,88a12,12,0,0,1-12,12h-4v4a12,12,0,0,1-24,0v-4h-4a12,12,0,0,1,0-24h4V72a12,12,0,0,1,24,0v4h4A12,12,0,0,1,252,88Z"></path></svg>`;

                            const icon = item.role === "Business Specialist" ? businessSpecialistIcon :
                                 item.role === "Senior Consultant" ? seniorConsultantIcon :
                                 item.role === "Student Assistant & Treasurer" ? studentIcon :
                                 item.role.includes("Chef") ? chefIcon : fallbackIcon;
                            const itemDiv = document.createElement('div');
                            itemDiv.className = 'flex items-center space-x-2 text-gray-300 popup-item';
                            itemDiv.dataset.targetId = id;
                            itemDiv.dataset.targetType = 'experience'; // Add target type
                            itemDiv.innerHTML = `<span class="text-xl">${icon}</span><span class="text-gray-300">${item.role}</span>`;
                            popupContent.appendChild(itemDiv);
                            count++;
                        }
                    }
                }

                if (relatedSkills.length > 0 && count < 3) {
                    const skillHeader = document.createElement('p');
                    skillHeader.className = 'text-sm font-semibold text-gray-300 mt-1 mb-1';
                    skillHeader.textContent = 'Skills & Attitudes:';
                    if (relatedExperience.length > 0) { // Add margin if there are experience items above
                        skillHeader.classList.add('mt-2');
                    }
                    popupContent.appendChild(skillHeader);
                    for (const id of relatedSkills) {
                        if (count >= 3) break;
                        const item = expertiseData.find(skill => skill.id === id);
                        if (item) {
                            const itemDiv = document.createElement('div');
                            itemDiv.className = 'flex items-center space-x-2 text-gray-300 popup-item';
                            itemDiv.dataset.targetId = id;
                            itemDiv.dataset.targetType = 'skill'; // Add target type
                            itemDiv.innerHTML = `<span class="text-xl">${item.icon}</span><span class="text-gray-300">${item.title}</span>`;
                            popupContent.appendChild(itemDiv);
                            count++;
                        }
                    }
                }

                if (count === 0) {
                    popupContent.innerHTML = '<p class="text-gray-400">No direct related items found.</p>';
                }

                // Attach click listeners to popup items
                popupContent.querySelectorAll('.popup-item').forEach(popupItem => {
                    popupItem.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const targetId = e.currentTarget.dataset.targetId;
                        const targetType = e.currentTarget.dataset.targetType;
                        
                        let targetSectionHash = '';
                        if (targetType === 'skill') {
                            targetSectionHash = '#skills';
                        } else if (targetType === 'experience') {
                            targetSectionHash = '#experience';
                        }

                        navigateTo(targetSectionHash);

                        setTimeout(() => {
                            // When navigating from popup, ensure the correct item is selected and highlighted
                            const elementToSelect = document.querySelector(`[data-id="${targetId}"]`);
                            if (elementToSelect) {
                                if (targetType === 'experience') {
                                    const timelineItem = elementToSelect.closest('.timeline-item');
                                    if (timelineItem) {
                                        // Simulate click to update details and set active class
                                        timelineItem.click(); 
                                    }
                                }
                                // Apply the temporary highlight as well, which will be cleared on next education click
                                highlightRelatedItems([targetId]); 
                                elementToSelect.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }
                        }, 600);

                        hideRelatedItemsPopup();
                    });
                });

                // Position the popup
                const cardRect = cardElement.getBoundingClientRect();
                const mainElement = document.querySelector('main');
                const mainRect = mainElement.getBoundingClientRect();

                let topPos = cardRect.top - mainRect.top + mainElement.scrollTop + cardRect.height + 10;
                let leftPos = cardRect.left - mainRect.left + mainElement.scrollLeft;

                const popupWidth = relatedItemsPopup.offsetWidth || 250;
                if (leftPos + popupWidth > mainRect.width) {
                    leftPos = mainRect.width - popupWidth - 20;
                }
                if (leftPos < 0) leftPos = 0;

                relatedItemsPopup.style.top = `${topPos}px`;
                relatedItemsPopup.style.left = `${leftPos}px`;
                relatedItemsPopup.style.transform = `translateX(0)`;

                relatedItemsPopup.classList.remove('hidden');
                relatedItemsPopup.classList.add('active-popup');

                const popupBottom = topPos + relatedItemsPopup.offsetHeight;
                const mainScrollBottom = mainElement.scrollTop + mainElement.clientHeight;

                if (popupBottom > mainScrollBottom) {
                    mainElement.scrollTo({
                        top: popupBottom - mainElement.clientHeight + 20,
                        behavior: 'smooth'
                    });
                } else if (topPos < mainElement.scrollTop) {
                     mainElement.scrollTo({
                        top: topPos - 20,
                        behavior: 'smooth'
                    });
                }
            }

            function hideRelatedItemsPopup() {
                relatedItemsPopup.classList.add('hidden');
                relatedItemsPopup.classList.remove('active-popup');
                activePopupCard = null;
            }

            document.addEventListener('click', (e) => {
                if (activePopupCard && !relatedItemsPopup.contains(e.target) && !activePopupCard.contains(e.target)) {
                    hideRelatedItemsPopup();
                    clearHighlights();
                }
            });


            function renderExperience() {
                timelineContainer.innerHTML = experienceData.map((exp, index) => `
                    <div class="timeline-item relative pl-8 pb-8 cursor-pointer" data-index="${index}" data-experience-id="${exp.id}">
                        <div class="timeline-dot absolute left-0 top-0.75rem w-5 h-5 bg-gray-600 rounded-full border-4 border-[#1A202C] transition-all duration-300 transform -translate-y-1/2"></div>
                        <div class="timeline-content ml-7 p-3 bg-[#1A202C] rounded-lg" data-id="${exp.id}">
                            <h3 class="text-lg font-bold text-white transition-colors duration-300">${exp.role}</h3>
                            <p class="text-sm text-gray-400">${exp.company}</p>
                            <p class="text-xs text-gray-500">${exp.period}</p>
                        </div>
                    </div>
                `).join('');

                const timelineWrapper = document.querySelector('.md\\:w-1\\/3');
                if (timelineWrapper && !timelineWrapper.querySelector('.timeline-vertical-line')) {
                    const line = document.createElement('div');
                    line.className = 'timeline-vertical-line absolute left-2.5 top-0 h-full w-0.5 bg-gray-700';
                    timelineWrapper.prepend(line);
                }

                document.querySelectorAll('.timeline-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        const index = e.currentTarget.dataset.index;
                        updateExperienceDetails(index);
                        
                        document.querySelectorAll('.timeline-item').forEach(i => {
                            i.classList.remove('active');
                            // Remove active-experience-glow from all timeline-content divs
                            i.querySelector('.timeline-content')?.classList.remove('active-experience-glow');
                        });
                        e.currentTarget.classList.add('active');
                        // Add active-experience-glow to the clicked item's content
                        e.currentTarget.querySelector('.timeline-content')?.classList.add('active-experience-glow');

                        // Clear only temporary highlights
                        clearHighlights();
                    });
                });
                
                updateExperienceDetails(0);
                document.querySelector('.timeline-item').classList.add('active');
                // Initial highlight for the first item's content when rendered
                document.querySelector('.timeline-item[data-index="0"] .timeline-content')?.classList.add('active-experience-glow');
            }
            
            function updateExperienceDetails(index) {
                const exp = experienceData[index];
                experienceDetailsContainer.innerHTML = `
                    <h3 class="text-2xl font-bold text-white mb-2">${exp.role}</h3>
                    <p class="text-md font-semibold text-[#38B2AC] mb-1">${exp.company}</p>
                    <p class="text-sm text-gray-400 mb-4">${exp.period} | ${exp.location}</p>
                    <ul class="space-y-2 text-gray-300 list-disc list-inside">
                        ${exp.details.map(d => `<li>${d}</li>`).join('')}
                    </ul>
                `;
            }

            function renderExpertise() {
                expertiseGrid.innerHTML = expertiseData.map(skill => `
                    <div class="bg-[#1A202C] p-4 rounded-lg text-center transition-transform duration-300 transform hover:scale-105 hover:bg-gray-800 flex flex-col items-center justify-start overflow-hidden relative group"
                         onmouseenter="this.classList.add('skill-card-expanded')"
                         onmouseleave="this.classList.remove('skill-card-expanded')"
                         data-id="${skill.id}"> <div class="text-4xl mb-2">${skill.icon}</div>
                        <h4 class="text-lg font-bold text-white">${skill.title}</h4>
                        <p class="text-sm text-gray-400 mt-2 skill-card-description w-full">${skill.description}</p>
                        <p class="text-xs text-gray-500 mt-2 skill-card-additional-text w-full">${skill.longDescription}</p>
                    </div>
                `).join('');
            }

            function renderEducation() {
                educationContainer.innerHTML = educationData.map((edu, index) => `
                    <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer education-card" data-id="${edu.id}" data-related-items='${JSON.stringify(edu.relatedItems)}'> <h4 class="text-lg font-bold text-white">${edu.degree}</h4>
                         <p class="text-md text-[#38B2AC]">${edu.school}</p>
                         <p class="text-sm text-gray-500">${edu.period}</p>
                    </div>
                `).join('');

                document.querySelectorAll('.education-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const relatedItems = JSON.parse(e.currentTarget.dataset.relatedItems);
                        
                        if (activePopupCard === e.currentTarget) {
                            hideRelatedItemsPopup();
                            clearHighlights();
                            activePopupCard = null;
                        } else {
                            hideRelatedItemsPopup();
                            clearHighlights();
                            
                            showRelatedItemsPopup(e.currentTarget, relatedItems);
                            highlightRelatedItems(relatedItems);
                            activePopupCard = e.currentTarget;
                        }
                    });
                });
            }

            function renderCertifications() {
                 certificationsContainer.innerHTML = certificationsData.map((cert, index) => `
                    <div class="bg-[#1A202C] p-4 rounded-lg cursor-pointer certification-card" data-id="${cert.id}" data-related-items='${JSON.stringify(cert.relatedItems)}'> <h4 class="text-lg font-bold text-white">${cert.name}</h4>
                         <p class="text-md text-[#38B2AC]">${cert.issuer}</p>
                         <p class="text-sm text-gray-500">${cert.year}</p>
                    </div>
                `).join('');

                document.querySelectorAll('.certification-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const relatedItems = JSON.parse(e.currentTarget.dataset.relatedItems);

                        if (activePopupCard === e.currentTarget) {
                            hideRelatedItemsPopup();
                            clearHighlights();
                            activePopupCard = null;
                        } else {
                            hideRelatedItemsPopup();
                            clearHighlights();
                            
                            showRelatedItemsPopup(e.currentTarget, relatedItems);
                            highlightRelatedItems(relatedItems);
                            activePopupCard = e.currentTarget;
                        }
                    });
                });
            }

            function renderLanguageChart() {
                const ctx = document.getElementById('languageChart').getContext('2d');
                if (languageChartInstance) {
                    languageChartInstance.destroy();
                }
                languageChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: languageData,
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label === 'German' || label === 'Italian') {
                                            return 'Native';
                                        } else if (label === 'English') {
                                            return 'Fluent (C1/C2 level)';
                                        } else if (label === 'Spanish') {
                                            return 'Conversational Proficiency';
                                        } else if (label === 'Dutch' || label === 'Arabic') {
                                            return 'Elementary Proficiency';
                                        }
                                        return '';
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                min: 0,
                                max: 100,
                                grid: { color: 'rgba(255, 255, 255, 0.1)' },
                                ticks: { 
                                    display: false,
                                    callback: function(value) {
                                        return '';
                                    }
                                }
                            },
                            y: {
                                grid: { display: false },
                                ticks: { color: '#CBD5E0', font: { size: 14 } }
                            }
                        }
                    }
                });
            }

            function renderInterests() {
                interestsGrid.innerHTML = interestsData.map(interest => `
                    <div class="interest-item flex flex-col items-center p-2">
                        <span class="text-4xl mb-2">${interest.icon}</span>
                        <span class="text-sm text-gray-400 text-center">${interest.name}</span>
                    </div>
                `).join('');
            }

            function toggleMobileNav() {
                mobileNav.classList.toggle('active');
                mobileNavBackdrop.classList.toggle('active');
            }

            mobileNavToggle.addEventListener('click', toggleMobileNav);
            mobileNavClose.addEventListener('click', toggleMobileNav);
            mobileNavBackdrop.addEventListener('click', toggleMobileNav);

            document.querySelectorAll('.nav-link, .nav-link-mobile').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const hash = e.currentTarget.getAttribute('href');
                    navigateTo(hash);
                });
            });

            window.addEventListener('hashchange', () => navigateTo(window.location.hash));
            
            renderExperience();
            renderExpertise();
            renderEducation();
            renderCertifications();
            navigateTo(window.location.hash || '#home');

            hideRelatedItemsPopup();
        });
    </script>
</body>
</html>
